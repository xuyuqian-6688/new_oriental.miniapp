{"version":3,"sources":["uni-app:///main.js","webpack:////Users/cota/Documents/cootaa/neworiental/pages/schoolDetail/index.vue?6b8c","webpack:////Users/cota/Documents/cootaa/neworiental/pages/schoolDetail/index.vue?b90e","webpack:////Users/cota/Documents/cootaa/neworiental/pages/schoolDetail/index.vue?f6b3","webpack:////Users/cota/Documents/cootaa/neworiental/pages/schoolDetail/index.vue?ebf4","uni-app:///pages/schoolDetail/index.vue","webpack:////Users/cota/Documents/cootaa/neworiental/pages/schoolDetail/index.vue?7cf4"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,gD,mDACAA,EAAWC,a;;;;2DCHX,qQACIC,EADJ,qMASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,+BACZ,aAAAF,E;;;;2GCvBf,yyC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,y4BAAm1B,eAAG,G;;;;0IC2Kt1B,uBAEA,2B,i4BAEA,CACE,WAAF,CACI,cAAJ,GAGE,KALF,WAMI,MAAJ,CACM,WAAN,GACM,QAAN,GACM,YAAN,GACM,UAAN,IACM,SAAN,SAGE,SAAF,MACE,EAAF,6BAEE,QAjBF,aAoBE,QApBF,WAqBI,KAAJ,YACI,KAAJ,oCAEE,QAAF,CACI,UADJ,WAEM,KAAN,cACM,KAAN,WACM,KAAN,eACM,KAAN,cACM,KAAN,iBAEI,UARJ,SAQA,cACM,EAAN,aACQ,MAAR,SAEM,EAAN,0CACQ,EAAR,cACQ,EAAR,kBACQ,IAAR,4EACQ,EAAR,UACA,yBACU,EAAV,YACU,EAAV,8CAEU,EAAV,mBAEA,mBACQ,QAAR,WAII,eA5BJ,WA6BM,KAAN,yBAGI,QAhCJ,SAgCA,GACM,EAAN,iD;;;;2DCxOA,svCAAgsC,eAAG,G","file":"pages/schoolDetail/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/schoolDetail/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=5461c93e&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/schoolDetail/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=5461c93e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n    <div>\n        <navigation-bar\n            :back-to-index=\"false\"\n            :back-to-last-page=\"true\"\n        ></navigation-bar>\n        <div\n            class=\"m_container p-1\"\n            :style=\"{'padding-top':(menuButton.bottom + 10)+'px'}\"\n        >\n            <div class=\"contact\">\n                <button\n                    class=\"contact-btn\"\n                    open-type=\"contact\"\n                    @contact=\"handleContact\"\n                >\n                    <img\n                        src=\"/static/images/contact.png\"\n                        alt=\"\"\n                    >\n                </button>\n            </div>\n            <div class=\"school-img mb-1\">\n                <swiper\n                    style=\"width: 100%; height: 15em;\"\n                    :indicator-dots=\"true\"\n                >\n                    <block\n                        v-for=\"(item, index) in detailList.image_url\"\n                        :key=\"index\"\n                    >\n                        <swiper-item>\n                            <img\n                                mode=\"aspectFill\"\n                                :src=\"item.url\"\n                                alt=\"\"\n                            >\n                        </swiper-item>\n                    </block>\n                </swiper>\n            </div>\n            <div class=\"title mb-1\">\n                <div class=\"title-middle black-highlight\">\n                    {{ detailList.cn_name ? detailList.cn_name : '' }}\n                </div>\n                <div class=\"color-grey\">{{ detailList.en_name ? detailList.en_name : '' }}</div>\n            </div>\n            <div\n                class=\"content color-grey mb-1\"\n                style=\"text-indent: 0;padding-bottom: 0.5em;\"\n            >\n                <text space=\"ensp\">{{ ellipsis === 'null' ? content :  ellipsis ? contentShow : content }}</text>\n                <div\n                    class=\"ellipsis_text flex-row align-center\"\n                    v-if=\"ellipsis === 'null' ? false : true\"\n                    @click=\"handleEllipsis\"\n                >\n                    <text>{{ ellipsis ? '展开全文' : '收起全文' }}</text>\n                    <img\n                        class=\"icon\"\n                        :style=\"ellipsis ? 'transform: rotate(-90deg)' : 'transform: rotate(90deg)'\"\n                        src=\"/static/images/back.png\"\n                        alt\n                    />\n                </div>\n                <div v-else style=\"\"></div>\n            </div>\n            <div class=\"price mb-1\">\n                <div class=\"black-highlight\">学费</div>\n                <div\n                    class=\"color-grey\"\n                    v-if=\"detailList.min_price\"\n                >{{ detailList.max_price ? detailList.min_price/10000 + ' - ' + detailList.max_price/10000 + '万/年' : detailList.min_price/10000 + '万/年' }}\n                </div>\n                <div\n                    class=\"color-grey\"\n                    v-else\n                >暂无\n                </div>\n            </div>\n            <div class=\"flex-row mb-1\">\n                <div class=\"mr-1 mw-50\">\n                    <div class=\"black-highlight\">户籍要求</div>\n                    <div class=\"color-grey\">\n                        <template v-if=\"detailList.census_register && detailList.census_register.length\">\n                            <text v-for=\"(item, index) in detailList.census_register\" :key=\"index\">{{ detailList.census_register.length>1&&index!==0 ? '，' : '' }}{{ item.name }}</text>\n                        </template>\n                        <text v-else>暂无</text>\n                    </div>\n                </div>\n                <div class=\"mw-50\">\n                    <div class=\"black-highlight\">招收国籍</div>\n                    <div class=\"color-grey\">\n                        <template v-if=\"detailList.nationality && detailList.nationality.length\">\n                            <text v-for=\"(item, index) in detailList.nationality\" :key=\"index\">{{ detailList.nationality.length>1&&index!==0 ? '，' : '' }}{{ item.name }}</text>\n                        </template>\n                        <text v-else>暂无</text>\n                    </div>\n                </div>\n            </div>\n            <div class=\"characteristic mb-1\">\n                <div class=\"black-highlight\">办学特色</div>\n                <div class=\"tag-box\">\n                    <div\n                        class=\"btn btn-tag\"\n                        v-for=\"(tag, index) in detailList.tags\"\n                        :key=\"index\"\n                    >\n                        {{ tag.name }}\n                    </div>\n                </div>\n            </div>\n            <div\n                class=\"case-list characteristic mb-1\"\n                v-if=\"detailList.sch_case !== undefined && detailList.sch_case.length\"\n            >\n                <div class=\"mb-1 black-highlight\">成功案例</div>\n                <div\n                    class=\"case-item mb-2\"\n                    v-for=\"(item, index) in detailList.sch_case\"\n                    :key=\"index\"\n                >\n                    <div class=\"flex-row\">\n                        <div class=\"head-img mr-1\">\n                            <img\n                                mode=\"aspectFill\"\n                                :src=\"item.head_img\"\n                                alt=\"\"\n                            >\n                        </div>\n                        <div class=\"flex-1\">\n                            <div class=\"font-bold mb-1\">\n                                {{ item.title }}\n                            </div>\n                            <div class=\"color-grey\">\n                                {{ item.content }}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div\n                class=\"article-list\"\n                v-if=\"detailList.sch_gzh_article !== undefined && detailList.sch_gzh_article.length\"\n            >\n                <div class=\"mb-1 black-highlight\">更多介绍</div>\n                <div\n                    class=\"article-item mb-2\"\n                    v-for=\"(item, index) in detailList.sch_gzh_article\"\n                    :key=\"index\"\n                    @click=\"goTweet(item.gzh_link)\"\n                >\n                    <div class=\"flex-row justify-between\">\n                        <div class=\"flex-1 article-title color-grey mr-1\">\n                            {{ item.title }}\n                        </div>\n                        <div class=\"article-img\">\n                            <img\n                                mode=\"aspectFill\"\n                                :src=\"item.article_img\"\n                                alt=\"\"\n                            >\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import { mapState } from 'vuex'\n    import NavigationBar from '../../components/NavigationBar'\n    import { schoolDetail } from '@/api/api.js'\n\n    export default {\n        components: {\n            NavigationBar,\n        },\n\n        data() {\n            return {\n                detailList: {},\n                content: '', // 完整的学校详情\n                contentShow: '', // 显示的学校详情\n                maxLength: 150, // 收起时最大显示文字长度\n                ellipsis: 'null', // 是否收起\n            }\n        },\n        computed: {\n            ...mapState(['menuButton']),\n        },\n        created() {\n\n        },\n        mounted() {\n            this.resetData()\n            this.getDeatil(this.$root.$mp.query.id)\n        },\n        methods: {\n            resetData() {\n                this.detailList = {},\n                this.content = '', // 完整的学校详情\n                this.contentShow = '', // 显示的学校详情\n                this.maxLength = 150, // 收起时最大显示文字长度\n                this.ellipsis = 'null' // 是否收起\n            },\n            getDeatil(id) {\n                uni.showLoading({\n                    title: '加载中',\n                })\n                schoolDetail({ id: id }).then(res => {\n                    uni.hideLoading()\n                    this.detailList = res.data\n                    let content = res.data.sch_info.introduce ? res.data.sch_info.introduce.replace(/↵/g, '\\n') : ''\n                    this.content = content\n                    if (content && content.length > this.maxLength) {\n                        this.ellipsis = true\n                        this.contentShow = content.substring(0, this.maxLength) + '...'\n                    } else {\n                        this.ellipsis = 'null'\n                    }\n                }).catch(err => {\n                    console.log(err)\n                })\n            },\n            // 控制是否展开全文\n            handleEllipsis() {\n                this.ellipsis = !this.ellipsis\n            },\n            // 公众号文章跳转\n            goTweet(link) {\n                uni.navigateTo({ url: '/pages/tweet/main?link=' + link })\n            },\n        },\n    }\n</script>\n\n<style>\n    .school-img img {\n        width: 100%;\n        border-radius: 0.2em;\n    }\n\n    .mw-50 {\n        max-width: 50%;\n    }\n    .black-highlight {\n        color: black;\n        font-weight: bold;\n    }\n    .content {\n        text-indent: 2em;\n        /* padding-bottom: 1em; */\n        border-bottom: 1px solid #dedede;\n    }\n\n    .tag-box {\n        margin-top: 0.3em;\n    }\n\n    .ellipsis_text {\n        text-indent: 0;\n        color: #000000;\n        width: 100%;\n        justify-content: center;\n    }\n\n    .ellipsis_text text {\n        margin-right: 0.3em;\n    }\n\n    .characteristic {\n        border-bottom: 1px solid #dedede;\n    }\n\n    .head-img {\n        width: 5em;\n        height: 5em;\n        border-radius: 2.5em;\n        overflow: hidden;\n    }\n\n    .head-img img {\n        width: 100%;\n        height: 100%;\n    }\n\n    .article-title {\n        display: -webkit-box;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        word-wrap: break-word;\n        white-space: normal !important;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n    }\n\n    .article-img {\n        width: 5em;\n        height: 3em;\n        overflow: hidden;\n    }\n\n    .article-img img {\n        width: 100%;\n        height: 100%;\n    }\n\n    .contact {\n        position: fixed;\n        right: 0.5em;\n        top: 75%;\n        transform: translateY(-50%);\n        z-index: 999;\n    }\n\n    .contact-btn {\n        width: 2em;\n        height: 2em;\n        border-radius: 50%;\n        background-color: #000000;\n        padding: 0;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .contact-btn img {\n        width: 70%;\n        height: 70%;\n    }\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}